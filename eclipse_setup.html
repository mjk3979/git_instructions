<html>
<head>
<title>RIT CS Git Tutorial | Eclipse</title>
</head>
<body>

<h1>Configuring Git for Eclipse</h1>
    
<IMG BORDER=0 WIDTH=150 SRC="Media/Git.png">

<p> Many of the introductory CS courses recommend the use of Eclipse.
    Luckily, Eclipse can be easily configured to work with your existing
    Git repository!
</p>
<p> To access your Git repository through Eclipse, follow the following steps
    <u>exactly</u>:
    <ol>
        <li> If you are working on a CS system, open up a terminal window.
        </li>
        <li> If you are on your personal machine, choose the appropriate 
            course of action:
            <ul>
                <li>Linux or Mac machine:
                    <ol>
                        <li> Open the terminal window.
                        </li>
                        <li> SSH into a CS system with the following command:
                            <br/><code>$ ssh {your_username}@glados.cs.rit.edu</code>
                        </li>
                        <li> Enter your CS password when prompted.
                        </li>
                    </ol>
                </li>
                <li>Windows machine:
                    <ol>
                        <li> Launch <a href="http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html" target="_blank">PuTTY</a>.
                        </li>
                        <li> In the "Host Name" box, put
                            <code>{your_username}@glados.cs.rit.edu</code>
                        </li>
                        <li> Click "Open".
                        </li>
                        <li> Enter your CS password when prompted.
                        </li>
                    </ol>
                </li>
            </ul>
        </li>
        <li> Navigate to your home directory:
            <br/><code>$ cd</code>
        </li>
        <li> Create a directory that will become the Git repository:
            <br/><code>$ mkdir rit_git</code>
        </li>
        <li> Initialize the Git repository:
            <br/><code>$ git init --bare rit_git</code>
        </li>
        <li> Create a <code>.ssh</code> directory
            (if one does not already exist):
            <br/><code>$ mkdir -p .ssh</code>
        </li>
        <li> Use the <code>vi</code> text editor
            to edit the "environment" file in the <code>.ssh</code> directory:
            <br/><code>$ vi .ssh/environment</code>
        </li>
        <li> Press "<code>i</code>" and enter the following line:
            <br/><code>PATH=/opt/csw/bin:/usr/bin</code>
        </li>
        <li> Press <code>esc</code>, type "<code>:wq</code>",
            and press <code>enter</code>.
        </li>
        <li> Get the full path to your current directory:
            <br/><code>$ pwd</code>
        </li>
        <li> Make sure to record the path!!
            You will need it for the next few steps.
        </li>
        <li> Open Eclipse and connect to your Git repository:
            <ol type="a">
                <li>Select <code>Window -> Open Perspective -> Other -> Git
                    </code>.
                </li>
                <li> Click the drop-down arrow in the top-right corner of
                    the <code>Git Repositories</code> pane and select 
                    <code>Clone a Repository</code> from the list of options.
                </li>
                <li> Enter the following information and
                    then click <code>Finish</code>:
                    <table cellspacing=10>
                        <tr>
                            <td>
                                Host: 
                                <br/>Repository Path: 
                                <br/>User: 
                                <br/>Password: 
                                <br/>Connection Type: 
                            </td>
                            <td>
                                <code>glados.cs.rit.edu</code> 
                                <br/><code>{path_from_pwd}/rit_git</code>
                                <br/><code>{CS_username}</code>
                                <br/><code>{CS_password}</code>
                                <br/><code>ssh</code>
                            </td>
                        </tr>
                    </table>
                    (select checkbox for <code>"Store in Secure Store"</code>)
                    <p>
                        <u>Note:</u> Replace <code>{path_from_pwd}</code> with
                        the string returned by the <code>pwd</code> command,
                        and <code>{CS_username}</code>
                        and <code>{CS_password}</code>
                        with your CS credentials.
                    </p>
                    <p>
                        <u>Note:</u> If asked about creating a
                        <code>.ssh/known_hosts</code> file, agree to it.
                    </p>
                </li>
            </ol>
        </li>
    </ol> 
</p>

<h3>Committing A Project to Git Repository</h3>
        
<!--  hidden todo ============================================
    <center><IMG BORDER=0 WIDTH=300 SRC="Media/commit.jpg"></center>
  ============================================ hidden todo -->
<p>
<ol>
  <li> Change back to the Eclipse Java perspective by doing: 
      <p> Select <code>Window -> Open Perspective -> Java</code>.
  <li> In the <code>Package Explorer</code> pane, right-click on any 
      project folder and select 
      <code>Team -> Share Project</code>.
  <li>Select Git and click <code>Next</code>. 
  <li> Select the repository you just created and click <code>Finish</code>.
  <li> Right click on the project you just shared and select <code>Team -> Commit</code>.
  <li> Enter a comment for the commit operation (i.e. 
      <code>Initial revision.</code>), select the files you wish
       to include, and click <code>Commit</code>.
  <li> Right click on the project again and select <code>Team -> Push Branch</code>.
  <li> Make a change to the project
      and make a second commit of the file.
  <li> This time, after selecting the files to commit, click <code>Commit and Push</code>.
       From now on, whenever you want to send your changes to the remote repository, you
       will want to use this button instead of the <code>Commit</code> button.
  <li> On the file system, navigate to the <b>rit_git</b> folder 
      where your program file resides and verify that the file is 
      present and correct. This folder is where Eclipse
      keeps its working copy of the version-controlled content. When
      you commit through Eclipse, the commit uses this as the source
      for a new version stored in the project's reposity folder under
      $HOME/rit_git/.
</ol>

 <b>Note: You should never attempt to add, modify or delete any files 
    in the repository $HOME/rit_git/ because the git program may detect it
    as corruption and refuse to fetch or recover your files!
 </b>
<hr>

<h3>Checking Out a Project from a Git Repository</h3>
<p>
The advantage of using a source code repository is that you can work on
code on different machines while keeping everything synchronized.  Each 
time you complete a coding session, commit and push your changes to the repository. 
<p>
If you go to a different machine you will either check out the project 
(first time) or pull changes from the repository.  For example, you can start work on a lab 
using a CS machine, commit and push your changes, and then go home and check out the 
project on your own machine to continue work there - even if you use a 
different operating system!
<p>
<ul>
  <li> To check out a project for the first time in Eclipse, select 
      <code>Window -> Open Perspective -> Other -> Git</code>.
      In the <code>Git Repositories</code> pane turn the arrow for the 
      repository icon and the <code>Working Directory</code> down.  This will reveal all 
      of your projects in the repository.  Right-click on the project 
      you want and select <code>Import Projects</code>.</li> 
      <p> ... OR ... 
  <li> To update a project within Eclipse that is already checked out 
      from Git, right-click on the project folder in the 
      <code>Package Explorer</code> perspective and select 
      <code>Team -> Pull</code>.</li>
</ul>
<p>
<hr>

</body>
</html>
